@prefix : <urn:ontoinsights:ontology:dna:> .
@prefix dna: <urn:ontoinsights:ontology:dna:> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

########################################################################
# File defining semantics related to time
# 
# Created: February 9, 2020
# Last modified: March 28 2021
# 
# Licensed by OntoInsights, LLC
# Creative Commons Atribution 4.0 International (CC BY 4.0)
# 
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
# either express or implied.
# 
# Changes:
#  Updated to the Mar 2021 semantics
########################################################################


########################################################################
# Classes
########################################################################

:Duration a owl:Class ;
  rdfs:subClassOf :Time ;
  rdfs:label "Duration of Time" ;
  :definition "A length of time (such as '2 days') as defined by the :numeric_duration and :has_temporal_unit properties." ;
  :synonym "temporal distance", "lifespan" .

:Interval a owl:Class ;
  rdfs:subClassOf :Time ;
  rdfs:label "Interval of Time" ;
  :definition "A period of time as defined by its beginning and end points in time, beginning point in time and duration, or end point in time and duration."; 
  :synonym "timeframe", "period" .

:PointInTime a owl:Class ;
  rdfs:subClassOf :Time ;
  rdfs:label "Point in Time" ;
  :definition "A point in time as specified by the properties, :year, :day_of_month, :day_of_week, :hour_of_day, :minute_of_hour, :month_of_year, :second_of_minute and :week_of_month, or by a specific :date_time timestamp." ;
  :example "For example, April 1 2016 at noon can be specified by a PointInTime instance with the following properties and values: :year 2016, :month_of_year 4, :day_of_month 1 and :hour_of_day 12 or by the xsd:timestamp, '2016-04-01T12:00:00." ;
  :synonym "moment", "instant" .

:RecurrencePattern a owl:Class ;
  rdfs:subClassOf :Time ;
  rdfs:label "Recurrence Pattern" ;
  :definition "Indicates a repeating point in time or repeating interval. Repetition is specified by indicating the overall start and end times of the pattern (via the :has_beginning and :has_end properties) and a time frame for recurrence. The latter is defined using the :has_recurrence_time property and/or by a separation interval between recurrences (indicated using the :separation_interval and :has_recurrence_unit properties). Note that if an end time is not defined, then the pattern is assumed to be ongoing. Also note that specific repetitions can be omitted/cancelled using the :omit_time property." ;
  :example "The possible semantics that can be expressed by RecurrencePattern are best illustrated using several examples. (1) The first example defines a pattern of the first Monday of every month for the years, 2018 and 2019. This would be specified using a :has_beginning property referencing January 2018 (a PointInTime with a :month_of_year property of 1 and a :year property of 2018) and a :has_end property referencing December 2019 (a PointInTime with a :month_of_year property of 12 and a :year property of 2019). The :has_recurrence_unit property would be set to :Months. The specific time of recurrence is defined using the :has_recurrence_time property and would reference another PointInTime instance with a :week_of_month property set to 1 (the first week of the month) and a :day_of_week set to 2 (Monday). (2) To indicate a recurrence every last Monday of the month for 2018 and 2019, all instances and property values would be defined as for (1) except that :week_of_month would be set to -1. (3) To indicate a recurrence every alternate Monday, most of the instances and property details from (1) would be valid except that :has_recurrence_unit would be :Weekly and the :week_of_month property would not be needed for the PointInTime instance referenced by the :has_recurrence_time property. However, the instance's :day_of_week property would still be set to 2. A separation_interval of 2 would be used to indicate 'alternate' weeks (every 2 weeks). (4) As a last example, consider a need to reference the rainy season(s) in some area. This would be accomplished by defining a RecurrencePattern instance with a :has_recurrence_unit of :Seasonal and a seasonal_description property set to 'rainy season'. (Other background information could be used to determine the months that are included in the 'rainy season' for the location.)" ;
  :synonym "rhythm", "cadence", "cycle", "repetition" .

:Season a owl:Class ;
  rdfs:subClassOf :RecurrencePattern ;
  rdfs:label "Season" ;
  :definition "A time of year characterized by weather (rain, temperatures, etc.), amount of daylight, likelihood of an event occurring, etc. Seasons are defined differently in various localities and in different domains. For this reason, a subclass hierarchy specific to the domain should be defined." ;
  :example "Some locations utilize four weather seasons (summer, fall, winter and spring), while others have six seasons (prevernal, vernal, estival, serotinal, autumnal/fall and hibernal/winter), and still others have three seasons (rainy, dry and mild). In other places, season is defined by the occurrence of wildfires, hurricanes, or when plants grow. It is very possible for a Time at a Location to be associated with several seasons. Also, the various subclasses of Season may have synonyms - such as the 'rainy season' instead being known as the 'monsoon season' in different parts of the world." .

:TemporalUnit a owl:Class ;
  rdfs:subClassOf :Enumeration ;
  rdfs:label "Temporal Unit" ;
  :definition "An enumeration of the values, :Seconds, :Minutes, :Hours, :Days, :Weeks, :Months, :Years or :Seasonal." ;
  owl:equivalentClass [ a owl:Class ;
                        owl:oneOf ( :enum:Seconds :enum:Minutes :enum:Hours :enum:Days :enum:Weeks :enum:Months 
                                    :enum:Years :enum:Seasonal ) ] .


########################################################################
# Datatype Properties
########################################################################

:date_time a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "date time" ;
  :definition "A dateTime value defined using an ISO 8601 format with an optional timezone." ;
  rdfs:domain :PointInTime ;
  rdfs:range xsd:dateTime .

:day_of_month a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "day of month" ;
  :definition "An integer value indicating a specific day in a month, counting from the beginning of the month (positive values starting from 1) or from the end of the month (negative values starting from -1). If a day is specified that does not exist in the month (for example, the 31st/-31st day of February), then the last/first day of the month is assumed. If a value of 0 is used, then the first day of the month is assumed." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "-31"^^xsd:integer ]
                                      [ xsd:maxInclusive "31"^^xsd:integer ] ) ] .

:day_of_week a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "day of week" ;
  :definition "An integer value indicating a specific day of the week, where Sunday is represented by 1, Monday by 2, ... through Saturday which is represented by 7." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "1"^^xsd:integer ]
                                      [ xsd:maxInclusive "7"^^xsd:integer ] ) ] .

:hour_of_day a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "hour of day" ;
  :definition "An integer value indicating a specific hour of the day, where midnight is represented by 0 and 11pm is represented by 23." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "0"^^xsd:integer ]
                                      [ xsd:maxInclusive "23"^^xsd:integer ] ) ] .

:minute_of_hour a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "minute of hour" ;
  :definition "An integer value indicating a specific minute of an hour. The range of possible values is 0 to 59." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "0"^^xsd:integer ]
                                      [ xsd:maxInclusive "59"^^xsd:integer ] ) ] .

:month_of_year a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "month of year" ;
  :definition "An integer value indicating a specific month of the year, assuming a Gregorian calendar, where January is represented by 1, February by 2, ... through December which is represented by 12." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "1"^^xsd:integer ]
                                      [ xsd:maxInclusive "12"^^xsd:integer ] ) ] .

:numeric_duration a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "numeric duration" ;
  :definition "A non-negative decimal value indicating a Duration's extent relative to the time unit referenced by the Duration's :has_temporal_unit property value." ;
  rdfs:domain :Duration ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:decimal ;
               owl:withRestrictions ( [ xsd:minInclusive "0.00"^^xsd:decimal ] ) ] .

:second_of_minute a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "second of minute" ;
  :definition "A decimal value indicating a specific second or sub-second of a minute. The range of possible values is 0.00 through 59.9999..." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:decimal ;
               owl:withRestrictions ( [ xsd:minInclusive "0.00"^^xsd:decimal ]
                                      [ xsd:maxExclusive "60.00"^^xsd:decimal ] ) ] .

:separation_interval a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "separation interval" ;
  :definition "A non-negative decimal value defining the time between occurrences in a RecurrencePattern. The interval is relative to the pattern's :has_recurrence_unit property value." ;
  :example "For example, to indicate an occurrence every day, :has_recurrence_unit would be set to :Days and :separation_interval set to 1. If a :separation_interval is not specified for a RecurrencePattern, then the value of 1 is assumed." ;
  rdfs:domain :RecurrencePattern ;
  rdfs:range xsd:decimal .

:week_of_month a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "week of month" ;
  :definition "An integer value indicating a specific week in a month, counting from the beginning of the month (positive values starting from 1) or from the end of the month (negative values starting from -1). If a week is specified that does not exist in the month (for example, the 5th/-5th week of February), then the last/first week of the month is assumed. If a value of 0 is used, then the first week of the month is assumed." ;
  rdfs:domain :PointInTime ;
  rdfs:range [ a rdfs:Datatype ;
               owl:onDatatype xsd:integer ;
               owl:withRestrictions ( [ xsd:minInclusive "-5"^^xsd:integer ]
                                      [ xsd:maxInclusive "5"^^xsd:integer ] ) ] .

:year a owl:DatatypeProperty, owl:FunctionalProperty ;
  rdfs:label "year" ;
  :definition "An integer value indicating a year using the conventions of Common Era. Note that negative values indicate BCE." ;
  rdfs:domain :PointInTime ;
  rdfs:range xsd:integer .


########################################################################
# Object Properties
########################################################################

:has_recurrence_unit a owl:ObjectProperty, owl:FunctionalProperty ;
  rdfs:label "has recurrence unit" ;
  rdfs:subPropertyOf :reference_to_enumerated_value ;
  :definition "Defines a temporal unit for a RecurrencePattern - either seconds (or sub-seconds), minutes, hours, days, weeks, months, years or seasonally." ;
  rdfs:domain :RecurrencePattern ;
  rdfs:range :TemporalUnit .

:has_recurrence_time a owl:ObjectProperty, owl:FunctionalProperty ;
  rdfs:label "has recurrence time" ;
  :definition "References a PointInTime indicating that a RecurrencePattern repeats at that particular time." ;
  :example "For example, to indicate a RecurrencePattern yearly on April 1, a PointInTime instance would be created and use the following properties and values: :month_of_year 4 and :day_of_month 1. This PointInTime instance would be referenced by the :has_recurrence_time property. The RecurrencePattern instance would also reference the instance, :Years, using the :has_recurrence_unit property." ;
  rdfs:domain :RecurrencePattern ;
  rdfs:range :PointInTime .

:has_season a owl:DatatypeProperty ;
  rdfs:label "has season" ;
  :definition "Reference to a subclass of Season when a RecurrencePattern has a recurrence unit of :Seasonal." ;
  rdfs:domain :RecurrencePattern ;
  rdfs:range :Season .

:has_temporal_unit a owl:ObjectProperty, owl:FunctionalProperty ;
  rdfs:label "has temporal unit" ;
  rdfs:subPropertyOf :reference_to_enumerated_value ;
  :definition "Defines a temporal unit for a Duration - either seconds (or sub-seconds), minutes, hours, days, weeks, months, years or seasonally." ;
  rdfs:domain :Duration ;
  rdfs:range :TemporalUnit .

:omit_time a owl:ObjectProperty ;
  rdfs:label "omitted/cancelled/ignored time" ;
  :definition "A reference to a PointInTime that would typically be included in RecurrencePattern but should be omitted/ignored." ;
  rdfs:domain :RecurrencePattern ;
  rdfs:range :PointInTime .


########################################################################
# Individuals
########################################################################

:enum:Days a :TemporalUnit ;
  rdfs:label "Days" ;
  :definition "A 24-hour interval of time." .

:enum:Hours a :TemporalUnit ;
  rdfs:label "Hours" ;
  :definition "A 60-minute interval of time." .

:enum:Minutes a :TemporalUnit ;
  rdfs:label "Minutes" ;
  :definition "A 60-second interval of time." .

:enum:Months a :TemporalUnit ;
  rdfs:label "Months" ;
  :definition "A period of time that varies by the type of calendar, typically between 28 and 31 days, and which corresponds to the phases of the Moon." .

:enum:Seasonal a :TemporalUnit ;
  rdfs:label "Seasonal" ;
  :definition "A period of time characterized by weather (rain, temperatures, etc.), amount of daylight, likelihood of an event occurring, etc., and which is defined differently in various localities and domains of interest." .

:enum:Seconds a :TemporalUnit ;
  rdfs:label "Seconds" ;
  :definition "A period of time that is one of the base units in the International System of Units (SI)." .

:enum:Weeks a :TemporalUnit ;
  rdfs:label "Weeks" ;
  :definition "A 7-day interval of time." .

:enum:Years a :TemporalUnit ;
  rdfs:label "Years" ;
  :definition "A interval of time related to the circulation of a planet. For Earth, a year is either 365 or 366 days and is (typically) denoted using a Common Era (CE) convention." .
